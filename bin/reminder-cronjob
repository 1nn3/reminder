#!/usr/bin/env -S chronic flock -n ${HOME}/.reminder-cronjob.lock sh
# */1 *	* * *	reminder-cronjob

#set -x
set -e

trap 'rm -f -- "${HOME}/.reminder-cronjob.lock"' 0 1 2 3 15

# working directory
wd="$(perl -e 'use App::Reminder; print App::Reminder::get_file(".", @App::Reminder::dirs);')"
cd "$wd" || exit

touch config.ini # time of the last run

reminder

exit 0

